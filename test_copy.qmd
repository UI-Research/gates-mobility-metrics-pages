---
title: "test_copy"
format: html
editor: visual
---
This quarto document is intended to test whether all of the files created on an ec2 instance were successfully copied from the volume on that instance to S3. The script that performs the copy operation is `aws_cp_command.sh`. 

The first two tests are intended to be run *after* the files are copied and can be run locally (as long as the user running the commands has CLI access to AWS). The last test is intended to be run on the EC2 instance to ensure that correct number of files were generated.  

## Test 1: Count the number of files in 
```{r}
library(aws.s3)
library(tidyverse)
```

This script creates a `count.csv` file that has a column "count" with the first variable being the number of counties in the s3 bucket and the second bing the number of places. 
```{bash}


```

## Test 3: 
To ensure that all of the files are created, we can count the number of files called `index.html` on the EC2 instance in each of the sub-directories. Specifically, you can run:
`find factsheets/999_county-pages/ -type f -name 'index.html' | wc -l`

`find factsheets/998_place-pages/ -type f -name 'index.html' | wc -l`
